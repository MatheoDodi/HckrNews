{"version":3,"file":"static/webpack/static/development/pages/story.js.066c52dc8e50135dab86.hot-update.js","sources":["webpack:///./pages/story.js"],"sourcesContent":["import fetch from 'isomorphic-fetch';\nimport Error from 'next/error';\nimport Layout from '../components/Layout';\nimport CommentList from '../components/CommentList';\n\nclass Story extends React.Component {\n  static async getInitialProps({ req, res, query }) {\n    const { id: storyId } = query;\n    let story;\n\n    try {\n      const res = await fetch(\n        `https://node-hnapi.herokuapp.com/item/${storyId}`\n      );\n      story = await res.json();\n    } catch (err) {\n      console.log(err);\n      story = null;\n    }\n\n    console.log(story);\n\n    return { story };\n  }\n\n  render() {\n    const { story } = this.props;\n    if (!story) {\n      return <Error statusCode={503} />;\n    }\n    return (\n      <Layout title={story.title}>\n        <main>\n          <h1 className=\"story-title\">\n            <a href={story.url}>{story.title}</a>\n          </h1>\n          <div className=\"story-details\">\n            <strong className=\"story-points\">{story.points} points</strong>\n            <strong className=\"story-comments\">\n              {story.comments_count} comments\n            </strong>\n            <strong>{story.time_ago}</strong>\n          </div>\n          <CommentList comments={story.comments} />\n        </main>\n        <style jsx>{`\n          main {\n            padding: 1em;\n          }\n\n          .story-title {\n            color: #444;\n            font-size: 1.3em;\n            margin: 0;\n            font-weight: 300;\n            padding-bottom: 0.5em;\n          }\n\n          .story-title a {\n            color: #333;\n            text-decoration: none;\n          }\n\n          .story-title a:hover {\n            text-decoration: underline;\n          }\n\n          .story-details {\n            font-size: 0.8rem;\n            padding-bottom: 1em;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n            margin-bottom: 1em;\n          }\n\n          .story-details strong {\n            margin-right: 1em;\n          }\n\n          .story-details a {\n            color: #f70;\n          }\n\n          .story-points {\n            color: #f70;\n            font-size: 0.7rem;\n          }\n\n          .story-comments {\n            color: #7b8794;\n            font-weight: 100;\n          }\n        `}</style>\n      </Layout>\n    );\n  }\n}\n\nexport default Story;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAoBA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;AAAA;AAAA;AA+DA;;;;;;;;;;;;;AAxFA;AACA;;;AAIA;AACA;;AADA;;AAGA;AACA;;AADA;;;;;;;AAEA;AACA;AACA;;AAEA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAlBA;AACA;AA2FA;;;;A","sourceRoot":""}